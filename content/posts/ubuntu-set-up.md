---
title: Настраиваем Ubuntu под себя
tags:
  - linux
  - note
date: 2021-07-03
---

Для тех кто знаком с Unix-подобными системами эта статья будет неинтересна. Для тех же, кто только начинает свой путь — милости прошу, тут будет много полезных советов (и вредных, но удобных тоже).

# Настройка языка

По умолчанию в Ubuntu используется только английский язык. Для того чтобы подключить русский нужно ввести *Settings*, а затем найти вкладку *Region & Language*, после того как вы найдете нужную вкладку нужно нажать плюсик:

![](/posts/ubuntu-set-up/language.png)

Находим слово *Russian*.
Всё, русский язык теперь есть.
Переключение на `Win + Space`, что меня полностью устраивает, так как этот стандарт есть
и в MacOS, и в Windows. Как поменять сочетание клавиш на `Shift + Alt` рассмотрим позже.

Также можно перевести и всю систему на русский язык.
Для этого мы нажимаем на кнопку *Manage Installed Languages*, и откроется следующее окно:

![](/posts/ubuntu-set-up/language-support.png)

Нажимаем кнопку *Install & Remove Languages* и открывается ещё одно окно:

![](/posts/ubuntu-set-up/language-install.png)

Тут нужно найти опять Russian и скачать локаль (пакет для того чтобы в системе был русский язык).

Далее в первом окне перетаскиваем локаль «русский» вверх всего списка:

![](/posts/ubuntu-set-up/language-rus.png)

Нажимаем кнопку Apply System-Wide, вводим пароль в открывшемся диалоге.

В окне настроек выбираем пункт Language и выбираем «русский». После перезагрузки система переведёт всё на русский язык.
При перезагрузке вам может вывестись следующее сообщение:

![](/posts/ubuntu-set-up/language-warn.png)

Тут говорится о том, что папки, которые были созданы с английской локалью не соответствуют
текущей локали (русской). Я рекомендую сохранять оригинальные имена папок
(английские) для того, чтобы удобно работать с ними из терминала не меняя раскладки.
Клацаем на «Не задавать больше этот вопрос» и на кнопку «Сохранить старые имена».

# Sudo без пароля

`sudo` — команда, которая расшифровывается, как Super User Do.
Проще говоря, она дает нам привилегии администратора.
То что не может сделать обычный пользователь просто так, он может сделать от имени
администратора с помощью этой команды. Сделана она для того, чтобы уберечь обычного пользователя
от поломки системы и удаления важной информации.

Каждый раз при использовании sudo он будет запрашивать пароль текущего пользователя.
Мне это вообще не нравится, у меня нет столько времени, чтобы писать огромный пароль.

Можно сделать так, чтобы пользователь вводил пароль только однажды,
а потом sudo не просил пароль при каждом использовании (или спустя 5 минут, после ввода пароля).
Для этого нам нужна команда visudo, которая изменяет конфигурацию команды sudo.

Вводите следующее:

```bash
sudo visudo
```

(Да, достаточно забавно, что для изменения конфигурации утилиты нам нужно использовать саму утилиту, поэтому если она поломается, то будет самый настоящий дедлок.)

Далее находим следующую строку:

```bash
%sudo ALL=(ALL:ALL) ALL
```

И переписываем её в:

```bash
%sudo ALL=(ALL:ALL) NOPASSWD:ALL
```

После того как вы перелогинетесь в свой аккаунт утилита sudo не будет запрашивать пароль.

# Swap CapsLock — Escape

Я использую Vim и ещё много всяких утилит, где мне нужно быстро и часто нажимать кнопку Escape, поэтому я поменял кнопки CapsLock и Escape местами.

Для того чтобы это сделать на Ubuntu нужно ввести следующую команду:

```bash
dconf write "/org/gnome/desktop/input-sources/xkb-options" "['caps:swapescape']"
```

Кстати, для того чтобы раскладка переключалась на Shift + Alt нужно ввести следующую команду:

```bash
gsettings set org.gnome.desktop.input-sources xkb-options "['grp:alt_shift_toggle', 'grp_led:scroll', 'lv3:switch']"
```

# Изменение темы терминала

Стандартная тема терминала — вырвиглазная. Темы можно выбирать на [данном сайте
](https://terminal.sexy/). Мне нравится [данная тема](https://terminal.sexy/#JjI47O_xJjI4_5gAi8NK_8EHA6n06R5jAJaIz9jcN0dP_6dNnMxl_6AAgdT6rRRXJqaa7O_x).

Выбираем любую тему, которая вам понравилась и нажимаем на вкладку Export:

![](/posts/ubuntu-set-up/terminal-sexy.png)

Нажимаем на кнопку Export внизу и записываем данный текст (на самом деле это скрипт на Bash) в файл с расширением «.sh», у меня это будет material_theme.sh

Далее нам нужно создать профиль в Gnome Terminal. Повторяем шаги:
1. Заходим в Gnome Terminal
2. Нажимаем на три полоски в шапке
3. Нажимаем на "параметры"
4. Клонируем дефолтный профиль

![](/posts/ubuntu-set-up/gnome-terminal-profile.png)

Переименовымаем имя профиля в терминале, а затем выполняем скрипт с помощью следующих команд (находимся в одной папке с скриптом):

```bash
 # Вы заменяете material_theme.sh на своё название
chmod +x ./material_theme.sh
./material_theme.sh
```

# Оптимизируем Ubuntu под SSD

Если вам, как и мне, хочется чтобы ваш SSD прожил дольше, то пишем следующую команду в терминал:

```bash
sudo systemctl enable fstrim.timer
```

Подробнее о том, что делает данная команда можно посмотреть здесь:

<ContentBookmark url="https://www.suse.com/support/kb/doc/?id=000019447"></ContentBookmark>
